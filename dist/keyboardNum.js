function checkOption(t,e){return t?t:e}!function(t){var e={},o={};o.attachEvent=function(e,o,n){return"addEventListener"in t?e.addEventListener(o,n,!1):void 0},o.fireFakeEvent=function(t,e){return document.createEvent?t.target.dispatchEvent(o.createEvent(e)):void 0},o.createEvent=function(e){if(document.createEvent){var o=t.document.createEvent("HTMLEvents");return o.initEvent(e,!0,!0),o.eventName=e,o}},o.getRealEvent=function(t){return t.originalEvent&&t.originalEvent.touches&&t.originalEvent.touches.length?t.originalEvent.touches[0]:t.touches&&t.touches.length?t.touches[0]:t};var n=[{test:("propertyIsEnumerable"in t||"hasOwnProperty"in document)&&(t.propertyIsEnumerable("ontouchstart")||document.hasOwnProperty("ontouchstart")),events:{start:"touchstart",move:"touchmove",end:"touchend"}},{test:t.navigator.msPointerEnabled,events:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}},{test:t.navigator.pointerEnabled,events:{start:"pointerdown",move:"pointermove",end:"pointerup"}}];e.options={eventName:"tap",fingerMaxOffset:11};var i,a,r,k,s={};i=function(t){return o.attachEvent(document.documentElement,k[t],r[t])},r={start:function(t){t=o.getRealEvent(t),s.start=[t.pageX,t.pageY],s.offset=[0,0]},move:function(t){return s.start||s.move?(t=o.getRealEvent(t),s.move=[t.pageX,t.pageY],void(s.offset=[Math.abs(s.move[0]-s.start[0]),Math.abs(s.move[1]-s.start[1])])):!1},end:function(n){if(n=o.getRealEvent(n),s.offset[0]<e.options.fingerMaxOffset&&s.offset[1]<e.options.fingerMaxOffset&&!o.fireFakeEvent(n,e.options.eventName)){if(t.navigator.msPointerEnabled||t.navigator.pointerEnabled){var i=function(t){t.preventDefault(),n.target.removeEventListener("click",i)};n.target.addEventListener("click",i,!1)}n.preventDefault()}s={}},click:function(t){return o.fireFakeEvent(t,e.options.eventName)?void 0:t.preventDefault()},emulatedTap:function(t){return s.offset&&o.fireFakeEvent(t,e.options.eventName),t.preventDefault()}},a=function(){for(var t=0;t<n.length;t++)if(n[t].test)return k=n[t].events,i("start"),i("move"),i("end"),o.attachEvent(document.documentElement,"click",r.emulatedTap),!1;return o.attachEvent(document.documentElement,"click",r.click)},o.attachEvent(t,"load",a),"function"==typeof define&&define.amd?define(function(){return a(),e}):t.Tap=e}(window);var keyBoardNum=function(t,e){var o=this,n="#keyBoardNum",i={itemHeight:60,decimal:2,integer:4,fontSize:"30px",color:"#333",bgColor:"#fff",borderColor:"#E5E5E5",activeColor:"#ebebeb",btnText:"确认",btnColor:"#fff",btnFontSize:"70px",btnBgColor:"#bcbcbc",btnActiveBgColor:"#fe9b20",btnTouchBgColor:"#e27d00",btnCallBack:null,delImg:delImgBase,hideImg:hideImgBase};for(var a in i)e[a]&&(i[a]=e[a]);this.option=i;var r='#keyBoardNum,#keyBoardNum *{-webkit-tap-highlight-color: transparent;-webkit-focus-ring-color: transparent;-webkit-box-sizing: border-box;-moz-box-sizing: border-box;box-sizing: border-box;margin: 0;padding: 0;border: 0;font-style: normal;}body {font-family: Hiragino Sans GB, Heiti SC, "微软雅黑", Verdana, sans-serif, SimHei, "黑体";}#keyBoardNum.show {-webkit-transform: translateY(0);-moz-transform: translateY(0);-ms-transform: translateY(0);-o-transform: translateY(0);transform: translateY(0);}#keyBoardNum:after{content: "";height: 0;visibility: hidden;display: block;clear: both;}#keyBoardNum.show-trans {-webkit-transition: all linear 0.2s;-moz-transition: all linear 0.2s;-ms-transition: all linear 0.2s;-o-transition: all linear 0.2s;transition: all linear 0.2s;}#keyBoardNum {width: 100%;height: '+4*o.option.itemHeight+"px;position: fixed;bottom: 0;left:0;background-color: "+o.option.bgColor+";z-index: 999;color: "+o.option.color+";font-size: "+o.option.fontSize+";line-height:"+o.option.itemHeight+"px;-webkit-transform: translateY(100%);-moz-transform: translateY(100%);-ms-transform: translateY(100%);-o-transform: translateY(100%);transform: translateY(100%);-webkit-transition: all linear 0.2s;-moz-transition: all linear 0.2s;-ms-transition: all linear 0.2s;-o-transition: all linear 0.2s;transition: all linear 0.2s;}#keyBoardNum i {display: block;width: 25%;height: 25%;line-height: 60px;font-size: inherit;color: inherit;text-align: center;border: 2px solid "+o.option.borderColor+";border-left: none;border-bottom: none;transition: all 0.1s;float: left;position: relative;}#keyBoardNum i:nth-child(1),#keyBoardNum i:nth-child(6),#keyBoardNum i:nth-child(9),#keyBoardNum i:nth-child(12) {border-left: 2px solid transparent;}#keyBoardNum i >img {height: 25px;position: absolute;top: 0;left: 0;bottom: 0;right: 0;margin: auto;}#keyBoardNum i#keyBoardPay {float: right;height: "+3*o.option.itemHeight+"px;line-height: 1.2;background-color: "+o.option.btnBgColor+";color: "+o.option.btnColor+";font-size: 25px;padding: 0px 20px;border: none;display: -webkit-box;box-align: center;-webkit-box-align: center;box-pack: center;-webkit-box-pack: center;}#keyBoardNum i.no-right {border-right: none;}#keyBoardNum i.hover,#keyBoardNum i:active {background-color: "+o.option.activeColor+";}#keyBoardNum i#keyBoardPay.active {background-color: "+o.option.btnActiveBgColor+";}#keyBoardNum i#keyBoardPay.active.hover,#keyBoardNum i#keyBoardPay.active:active {background-color: "+o.option.btnTouchBgColor+";}";$("head").append('<style type="text/css">'+r+"</style>");var k='<div id="keyBoardNum">    <i data-num="1">1</i>    <i data-num="2">2</i>    <i data-num="3">3</i>    <i data-num="del" style="border-right:none;">       <img src="'+o.option.delImg+'">    </i>    <i data-num="callback" id="keyBoardPay">'+o.option.btnText+'</i>    <i data-num="4">4</i>    <i data-num="5">5</i>    <i data-num="6" class="no-right">6</i>    <i data-num="7">7</i>    <i data-num="8">8</i>    <i data-num="9" class="no-right">9</i>    <i data-num="hide">       <img src="'+o.option.hideImg+'"></i>    <i data-num="0">0</i>    <i data-num="." class="no-right"><span>.</span></i></div>';return $("body").append(k),this.dom=$(n),this.numDom=$(t),this.init=function(){o.dom.on("tap","i",function(){var t=$(this).data("num");switch(t){case"del":o.delete(o.numDom);break;case"callback":o.callback();break;case"hide":o.hideBoard(o.dom);break;default:o.insert(o.numDom,t,o.option)}})},this.init(),this};keyBoardNum.prototype.show=function(){var t=this;setTimeout(function(){t.dom.addClass("show")},200)},keyBoardNum.prototype.delete=function(t){var e=t.text().trim();""!==e&&(t.text(e.substring(0,e.length-1)),""==t.text()?($("#keyBoardPay").removeClass("active"),this.num=0):this.num=t.text())},keyBoardNum.prototype.callback=function(){$("#keyBoardPay").hasClass("active")&&this.option.btnCallBack&&this.option.btnCallBack(parseFloat(this.num).toFixed(this.option.decimal))},keyBoardNum.prototype.hideBoard=function(){this.dom.removeClass("show")},keyBoardNum.prototype.insert=function(t,e,o){var n=t.text();if(""==n){if("."==e)return void t.text("0.")}else{if("0"==n&&1==n.length&&"."!=e)return;if(n.indexOf(".")>-1){if("."==e)return;if(n.substring(n.indexOf(".")+1,n.length).length==o.decimal)return}else if("."!=e&&n.length==o.integer)return}this.num=n+e,t.text(this.num),$("#keyBoardPay").addClass("active")};var delImgBase="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGkAAABICAMAAADCrCubAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAH+UExURQAAAE1PVU1PV05OVU5QVk1PVktOV05QVk1PVk5QVgAAAEtPVk5QV01NVEtOVU1PVk1QVk5QVk5QVktLS01PV05OTklJUktLV01NVisrVU1PV05PVk5QVk1PVk1QVk1PV01PVk5PVktPVE5PVjtOTk1PVklJSU1NVk1PVkBAQDMzM0dHVU1PVkxPVk5OU0lPVU1QVkBAVU1NTUZGUU1QVk1NVU1PVU1NVU5QVUZPT0xOVU5PVk1PV01PVk1PV05QV05PVk5OVU1PVU5PV0hOVU5OVgAAAE5PVk5OVk5PVk1QVkVOTk5PVk1QVk5PVk1QV0dHUk1QVk5OVkxOVk5PVk1PVkxPV01NVEpPU0xPVk5QVk1OVkxMU0tQVU1QV01QV01NVUxPVU1PV05QV01PVktLU05OVU5PVjk5VUxOVU1QVk1PV05OVU1QV01QVkxMVwAAVU5PV0lOU01PVklJUElJVU5PVk5PV05PVk1QV01QVk5QVkxPVU1QV01PV0pOVk1PVU1PVk1NU01QV01PV01PV05OVENDUU5QVk5OVU5QVk5PV01PV01PVkxQVE5PVk5OVk1PVkpKVUtOVk5OV05QV05PV0xMVU1PV0xOVk1QV01QVkxMVUlJSU5QV05QVk1QV0xMVU1QV0hQUE5PV0tLUU5QVk1PVk1OV05QV9QbdoYAAACpdFJOUwBa90j5+FiA/vwBR/1MS/vN9uMR8RccLFkG9LuDeu3uiO868g1xDlZ0BAUShUouKr0MChamHng8Zh1yuOv10fq+aXvLJ3kCz1/BoxrVU6dwGVA7ZaGRYUk3TcyMJTPWmT9UZ9zhImyaCW+g6EWtwC8D3zHeIxWUxbHd6p1Rbb8+frUolqXUUhPpJOaKqMdDq1yyGGJV2eI2vH/gyRsHkPCwObkgzinzlZxCpCGRAAADg0lEQVRYw72Z5UPbUBDAD2iBFi+UFpfirkMHbMjYxgwZM9hgBhsMxpi7u7u75L9c30uappLkkr7kvtDeHe8HL/fu7l0AFOXT+D1Ov6zt+ecuA5Q4z3ORyp+/qwhQ2S+OgaSVDqmBPvdxbOTdnDJo6CnxcsTpltz9J1J41LllRdJN4lPkgkgkPS+Dos4oOV0jHtYDEKFkplJUm7zHLLHHl0PE0kRRV2Ttl2zEvg0YSCbdwPsy1qvRxLoXmMh6slZpeFvdV2JssbMhVZMIXAxr+vmAgBqygJFs9K42Es5w+jUB9ZSxAsFR73IFYfSN/QR0aDMzEOSSBUPVVT+IvqCeHQjiwpLsLUQd3QaGk74QbeIWMJy0huaOI2A4aScFFYLhpCSa5TfZDScVpxFVThUYTaovIJoNJWA0qdVBFCe3q/6iq2I4PaTkDVe4sKS70+R7/oAqKC/RW4oXAnULRd6jkYcjNT2mfUyxKmiKhmd0glSXQIsMN4UhVV6nJ3aH+qaXciEoASRXgwJI9nHqug7xeOe5YJQPxM0jSA+pZw0mkFqzg1AxPlB2qzqpk3oew8XsjE1Y2RpDQVbhq21GPSKexZOPXZXI4xErRflBsepRHtNLPu1pRJ9ECQoDEklv6cafcmo49H4UBuQjDXSTn937NOUXEYUBCaTmD/ROtUtjKgtEKYME0i3quVtz1pSiVEACiT6kdh0J2m3DggTSBb2kWouPZKlFkR7p3L1aq3/3rMkY0mq+rohItkgjwpKMqYR8SdcY5YEgNZTv5PJtiqaTK4JsNgxKzEYvOY3ZKEkEucUItCRh+gi+nURnWD8oCiAKgZJUjQktVWNSCpKiJhEk+1Z8JXR6AkASlMeJqLlZOejqPhYEkqDGMB1LSSq2Y+kMBvlRnagurPkgsgtbCgGJqCVcZ3n4OO0sb6iiCkn+cQfqoqxKV5TgbnnFg+yWRwfbO4J1HbODo/gbwBOLSTcAgPJEk241AJc5k25qADVm3T4BLpp1o4bl52ZNCWDurFmTD0gfMWmaA5D5xqQJFcDvfAOmbilhLd/T2E8SHTL1O4XpdJRk+i4ZIz8/YjnxfS9n5ZsYhlPsOln7BNvJ/Ed5B76JYfa24Y6CC9/EMHqDsqjoxTcxTN4KOV4o/0F8E8NApjvU/ne+iYlYGqrVt3nFEzmn/xXqibr6euP1S8btbxXiOfoPzODF0TnV49AAAAAASUVORK5CYII=",hideImgBase="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAFcAAABICAMAAAC0lpkQAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAC0UExURQAAAImJiYiIiImJkomMkYmLkYqMkomLkYmLkYqMkomLkYmMkoiKkYmLkomJkImLkIqMkYmMkXFxjomLkoCAgImLkomLkYqKkYiLkYeLj4CLi4qLkomLkWZmZoeHkomLkomJkoqKkIWFj4mJkISEjomJiYmJkYiKkYqMkoqLkomMkYiIkYqLkomMkYmLkIqKjoaLkImMkYmMkIeLj4CAgImMkomLkYmMkomLkImLkoiKkYqMkluLW+YAAAA7dFJOUwANDzibtfzy/f7Y2WuaJ4j2zgnCAvDhSlhEFpinBTG2HEwZThsaQ3j652ge6eZsPTeZakIMsZzzbndt+xsz9AAAAeFJREFUWMPtmNeWgjAQhoOiWMDeRUXsvWxf3v+9lmREJUHEk7nak/8GDcNHTjKO84cQ0NQcFQ1PTkZxZDrkXq6V9XCU1Wc37Njw8GRMAuw+52Eq93uZLS7WB7MZu4aHLYOu8Qk+5/W0RuSkHa08wCw/wSATVl2CofkOssIhZ5gtDtYHw4xNkmFXnWBJZ7wMKbJrGo2bZrwCgWzQ0LgaZASBDbwOcxnz6uB1XHEV9z9x5fU/uCofFFdxVX1Q+aC4ihvDTdKvP0LE9etJ/MUr3MBfJPFDr3A/L37IBP825+/3EznWPv9YF/zbmTjgN3dvXMCgngBbH/DYFfjNaWDkvLx1fA+F9FpPsa1eeMvS+sUfn/xvM9HPV2s0bFh5gq0MaVitKvp5l96YiOcPNnt/5wm3w6Js8fxhDPP/FsE/7EY5FltmMQsRuw8WZiIsRa5NxxuZGGymQUPawpyM8W3FZzp/HtUs0fFU4SG2kKIBpSZ/HmW5ob10zFHxK8Fzce+l52fThP+u7ehDJVgnGS0iuQv5fsCOwNoIfUZE3sPvRlabLYfdbnA6o8MyhF0esFqudYi7xuvl+nElV0J3xVgouVK6FmOu5ErrUoyh5GKqc1dyUVW+llxc+cUYSi62Uh+p5MF/VYeijC2Upf4AAAAASUVORK5CYII=",key=new keyBoardNum("#input",{decimal:5,integer:3,btnCallBack:function(t){console.log(t)}}).show();